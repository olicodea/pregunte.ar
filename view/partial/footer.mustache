<footer class="footer py-8 text-white">
    <p class="text-center">2023 - Pregunte.ar - Programaci√≥n Web 2</p>
</footer>

<script>
    function initMap() {
        let googleMap = document.getElementById('map');

        if(!googleMap)
            return;

        let map = new google.maps.Map(googleMap, {
            center: { lat: 0, lng: 0 },
            zoom: 2
        });

        let marker = new google.maps.Marker({
            map: map,
            draggable: true
        });

        map.addListener('click', function(e) {
            marker.setPosition(e.latLng);
            let geocoder = new google.maps.Geocoder();
            let country = "";
            let city = "";
            geocoder.geocode({ 'location': e.latLng }, function(results, status) {
                if (status === 'OK') {
                    console.log(results)
                    if (results[0]) {
                        for (let i = 0; i < results[0].address_components.length; i++) {
                            let addressType = results[0].address_components[i].types[0];
                            if (addressType === 'country') {
                                country = results[0].address_components[i].long_name;
                            }
                            if (addressType === 'locality' || addressType === 'administrative_area_level_1') {
                                city = results[0].address_components[i].long_name;
                            }
                        }
                        document.getElementById('PaisCiudad').value = `${country}, ${city}`;
                    }
                }
            });
        });
    }
</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD1yOaskcBzd3PAWVtsKsPWberGfhpI6fE&callback=initMap" async defer></script>

</body>
</html>